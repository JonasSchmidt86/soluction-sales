<div class="card mt-3">
  <div class="card-header text-center bg-primary text-white">
    <h4>Lançamentos Diversos</h4>
  </div>
  <div class="card-body">
    <div class="mb-3">
      <%= link_to 'Novo Lançamento', new_collaborators_backoffice_lancamentosdiverso_path, class: 'btn btn-primary' %>
    </div>
    <div class="table-responsive">
      <table id="lancamentosdiversos-table" class="table table-striped table-hover table-bordered table-sm">
        <thead>
          <tr>
            <th>Descrição</th>
            <th>Valor</th>
            <th>Data de Início</th>
            <th>Data de Vencimento</th>
            <th>Entrada</th>
            <th>Provisionada</th>
            <th style="text-align: center;">Ações</th>
          </tr>
        </thead>
        <tbody>
          <% @lancamentos_diversos.each do |lancamento| %>
            <tr>
              <td><%= lancamento.descricao %></td>
              <td><%= number_to_currency(lancamento.valor, precision: 2, separator: ",", delimiter: "", unit: "") %></td>
              <td data-order="<%= lancamento.datainicio %>">
                <%= l(lancamento.datainicio) if lancamento.datainicio %>
              </td>
              <td><%= l(lancamento.datavencimento) if lancamento.datavencimento %></td>
              <td><%= lancamento.entrada ? 'Sim' : 'Não' %></td>
              <td><%= lancamento.provisionada ? 'Sim' : 'Não' %></td>
              <td class="col-acoes">
                <%= link_to edit_collaborators_backoffice_lancamentosdiverso_path(lancamento),
                    class: 'btn btn-warning btn-sm btn-acao',
                    title: 'Editar' do %>
                  <i class="fa fa-edit"></i>
                <% end %>
                <%= link_to collaborators_backoffice_lancamentosdiverso_path(lancamento),
                    method: :delete,
                    data: { confirm: 'Tem certeza?' },
                    class: 'btn btn-danger btn-sm btn-acao',
                    title: 'Excluir' do %>
                  <i class="fa fa-trash-can"></i>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="mt-3">
      <%= paginate @lancamentos_diversos %>
    </div>
  </div>
</div>
<style>
  table {
    table-layout: auto;
  }

  th.col-acoes,
  td.col-acoes {
    text-align: right;
    white-space: nowrap;
    width: 1%;
    padding-left: 18px;
    padding-right: 18px;
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    $('#lancamentosdiversos-table').DataTable({
        paging: false,
        searching: false,
        ordering: false,
        info: false,
        columnDefs: [
            { targets: 2, type: 'date' }
        ]
    });
  });
</script>